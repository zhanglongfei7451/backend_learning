安装工具
go install github.com/axw/gocov/gocov@v1.1.0      （https://github.com/axw/gocov/）
go install github.com/AlekSi/gocov-xml@v1.1.0    （https://github.com/AlekSi/gocov-xml）


pip install diff_cover     （https://github.com/Bachmann1234/diff_cover）需要python

进入项目目录  打开 Git Bash 运行命令
go test  -gcflags=all=-l  -timeout=60m  ./... -coverprofile=cover.out 
go tool cover -html=cover.out -o cover.html
go tool cover --func=cover.out -o coverage.txt

gocov convert cover.out | gocov-xml > coverage.xml

diff-cover coverage.xml --compare-branch=b9c7e360 --html-report report.html --fail-under=80

diff-cover coverage.xml --compare-branch=b9c7e360 --html-report report.html --fail-under=80   

--compare-branch 表示要对比的分支 --compare-branch=HEAD^ 是本地代码和最新分支比较   --html-report report.html 生成html页面显示未覆盖的代码